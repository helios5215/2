<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empanadictos  - Tus Empanadas Favoritas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* CSS para desplazamiento suave */
        html {
            scroll-behavior: smooth;
        }

        /* Estilos necesarios para el navbar fijo y el carrusel */
        body {
            padding-top: 70px;
        }

        .carousel-promo {
            min-height: 400px;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-caption {
            background: rgba(0, 0, 0, 0.5);
            padding: 1rem;
            border-radius: 0.5rem;
        }

        .text-shadow {
            text-shadow: 2px 2px 4px #000000;
        }

        .text-shadow-dark {
            text-shadow: 1px 1px 2px #ffffff;
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-danger fixed-top shadow">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <img src="media/logo-removebg-preview.png" alt="Logo Empanadictos"
                    style="height: 80px; margin-right: 8px;">
                Empanadictos
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="index.html"><i
                                class="fas fa-home me-1"></i> Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="estrategia.html"><i class="fas fa-chart-line me-1"></i> Estrategia</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="finanzas.html"><i class="fas fa-dollar-sign me-1"></i> Finanzas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#propietarios"><i class="fas fa-users me-1"></i> Propietarios</a>
                    </li>

                    <li class="nav-item d-none" id="navPideYa">
                        <a class="nav-link btn btn-warning text-dark ms-lg-2 py-1" href="pedidos.html"><i
                                class="fas fa-cookie-bite me-1"></i> 隆Pide Ya!</a>
                    </li>

                    <li class="nav-item d-none" id="navLogout">
                        <a class="nav-link btn btn-danger text-white ms-lg-2 py-1" href="#"
                            onclick="simulateLogout(event)">
                            <i class="fas fa-sign-out-alt me-1"></i> Cerrar Sesi贸n
                        </a>
                    </li>

                    <li class="nav-item d-none" id="navLogin">
                        <a class="nav-link btn btn-success text-white ms-lg-2 py-1" href="#" data-bs-toggle="modal"
                            data-bs-target="#loginModal">
                            <i class="fas fa-sign-in-alt me-1"></i> Iniciar Sesi贸n
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div style="padding-top: 70px;"></div>

    <main id="mainContent" class="container my-5 d-none">
        <section id="inicio" class="mb-5">
            <h2 class="text-center text-danger mb-4" id="welcomeMessage">隆Nuestras Promociones del Mes!</h2>
            <div id="empanadaCarousel" class="carousel slide shadow-lg" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#empanadaCarousel" data-bs-slide-to="0" class="active"
                        aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#empanadaCarousel" data-bs-slide-to="1"
                        aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#empanadaCarousel" data-bs-slide-to="2"
                        aria-label="Slide 3"></button>
                    <button type="button" data-bs-target="#empanadaCarousel" data-bs-slide-to="3"
                        aria-label="Slide 4"></button>
                </div>
                <div class="carousel-inner rounded-3">
                    <div class="carousel-item active">
                        <div class="d-block w-100 carousel-promo bg-primary text-white p-5"
                            style="background-image: url('media/dc.jpeg');background-size:contain;background-repeat: no-repeat;background-position: center;">
                            <div class="carousel-caption d-block">
                                <h5 class="display-5 fw-bold text-shadow">隆Doble de Carne!</h5>
                                <p class="lead text-shadow">Lleva 12 y paga solo 10. 隆Perfecto para compartir!</p>
                                <a href="pedidos.html"> <button class="btn btn-warning btn-lg">Pedir Ahora</button></a>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="d-block w-100 carousel-promo bg-success text-white p-5"
                            style="background-image: url('media/ev.webp');background-size:contain;background-repeat: no-repeat;background-position: center;">
                            <div class="carousel-caption d-block">
                                <h5 class="display-5 fw-bold text-shadow">Combo Vegetariano</h5>
                                <p class="lead text-shadow">4 de Espinaca, 4 de Champi帽贸n. 20% de descuento.</p>
                                <a href="pedidos.html"> <button class="btn btn-warning btn-lg">Pedir Ahora</button></a>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="d-block w-100 carousel-promo bg-warning text-dark p-5"
                            style="background-image: url('media/eq.jpeg');background-size:contain;background-repeat: no-repeat;background-position: center;">
                            <div class="carousel-caption d-block text-shadow-dark">
                                <h5 class="display-5 fw-bold">El Cl谩sico de Queso</h5>
                                <p class="lead">3x2 en empanadas de Queso y Jam贸n. 隆Fusi贸n irresistible!</p>
                                <a href="pedidos.html"><button class="btn btn-danger btn-lg">Pedir Ahora</button></a>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="d-block w-100 carousel-promo bg-info text-white p-5"
                            style="background-image: url('media/en.webp');background-size:contain;background-repeat: no-repeat;background-position: center;">
                            <div class="carousel-caption d-block">
                                <h5 class="display-5 fw-bold text-shadow">Edici贸n Especial Dulce</h5>
                                <p class="lead text-shadow">隆Empanadas de Nutella! Solo por esta semana.</p>
                                <a href="pedidos.html"><button class="btn btn-danger btn-lg">Pedir Ahora</button></a>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#empanadaCarousel"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#empanadaCarousel"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </section>

        <hr>

        <section id="propietarios" class="py-5">
            <h2 class="text-center text-danger mb-5">Conoce a los Propietarios de Empanadictos</h2>
            <div class="row justify-content-center g-4">
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm text-center border-0">
                        <img src="media/p1.jepg"
                            class="card-img-top mx-auto mt-3 rounded-circle border border-danger border-3"
                            alt="Propietario 1" style="width: 150px; height: 150px; object-fit: cover;">
                        <div class="card-body">
                            <h5 class="card-title fw-bold text-danger">MAMANI MAMANI JHONATTAN ALEXANDER</h5>
                            <p class="card-text text-muted">Mente maestra detras de la idea.</p>
                        </div>
                        <div class="card-footer bg-white border-0">
                            <small class="text-muted"><i class="fas fa-star text-warning me-1"></i> Fundador</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm text-center border-0">
                        <img src="placeholder-imagen no encontrada.jpg"
                            class="card-img-top mx-auto mt-3 rounded-circle border border-danger border-3"
                            alt="Imagen no encontrada " style="width: 150px; height: 150px; object-fit: cover;">
                        <div class="card-body">
                            <h5 class="card-title fw-bold text-danger">APAZA MERCADO LEONARDO</h5>
                            <p class="card-text text-muted">El genio detr谩s de la log铆stica y la atenci贸n al cliente. Se
                                asegura de que cada pedido llegue caliente y a tiempo.</p>
                        </div>
                        <div class="card-footer bg-white border-0">
                            <small class="text-muted"><i class="fas fa-star text-warning me-1"></i>Fundador</small>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <hr>

        <section id="estrategico" class="py-5 bg-light rounded-3">
            <a href="estrategia.html" class="text-decoration-none">
                <h2 class="text-center text-danger mb-5">Marco Estrat茅gico</h2>
            </a>
            <div class="row justify-content-center text-center g-4">
                <div class="col-md-4">
                    <div class="p-4 border-start border-3 border-danger h-100 bg-white shadow-sm">
                        <i class="fas fa-bullseye fa-3x text-danger mb-3"></i>
                        <h3 class="text-danger">Misi贸n</h3>
                        <p class="text-muted">Ofrecer empanadas de calidad, con sabores innovadores y precios
                            accesibles, utilizando ingredientes frescos y locales, para poder ofrecer un servicio
                            excepcional a nuestros clientes y haciendo que se aventuren en un mar de sabores y
                            experiencias 煤nicas con nuestras empanadas.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="p-4 border-start border-3 border-warning h-100 bg-white shadow-sm">
                        <i class="fas fa-eye fa-3x text-warning mb-3"></i>
                        <h3 class="text-warning">Visi贸n</h3>
                        <p class="text-muted">Ser la marca l铆der y referente en el mercado de las empanadas, reconocida
                            por nuestra constante innovaci贸n, sabor y atenci贸n al cliente.Buscando expandir nuestro
                            sabor como nuestro alcance al cliente a nuevos horizontes.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="p-4 border-start border-3 border-success h-100 bg-white shadow-sm">
                        <i class="fas fa-hands-helping fa-3x text-success mb-3"></i>
                        <h3 class="text-success">Valores</h3>
                        <ul class="list-unstyled text-muted text-start">
                            <li><i class="fas fa-check-circle me-2 text-success"></i>Ofrecer una mejor calidad a
                                nuestros clientes</li>
                            <li><i class="fas fa-check-circle me-2 text-success"></i>Innovar en nuestra variedad de
                                empanadas</li>
                            <li><i class="fas fa-check-circle me-2 text-success"></i>Tener una mejor sostenibilidad</li>
                            <li><i class="fas fa-check-circle me-2 text-success"></i>Enfocarnos netamente en nuestros
                                clientes para ofrecerles un producto de alta calidad</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true"
        data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="loginModalLabel">Acceder a tu Cuenta</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"
                        id="closeModalButton"></button>
                </div>
                <div class="modal-body p-4">
                    <ul class="nav nav-pills mb-3 justify-content-center" id="pills-tab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="pills-login-tab" data-bs-toggle="pill"
                                data-bs-target="#pills-login" type="button" role="tab" aria-controls="pills-login"
                                aria-selected="true">Iniciar Sesi贸n</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="pills-register-tab" data-bs-toggle="pill"
                                data-bs-target="#pills-register" type="button" role="tab" aria-controls="pills-register"
                                aria-selected="false">Registrarse</button>
                        </li>
                    </ul>

                    <div class="tab-content" id="pills-tabContent">
                        <div class="tab-pane fade show active" id="pills-login" role="tabpanel"
                            aria-labelledby="pills-login-tab">
                            <form id="loginForm">
                                <div class="mb-3">
                                    <label for="loginName" class="form-label">Nombre de Usuario/Correo</label>
                                    <input type="text" class="form-control" id="loginName" name="loginName" required>
                                    <div class="invalid-feedback">Este campo es obligatorio.</div>
                                </div>
                                <div class="mb-3">
                                    <label for="loginPassword" class="form-label">Contrase帽a</label>
                                    <input type="password" class="form-control" id="loginPassword" name="loginPassword"
                                        required>
                                    <div class="invalid-feedback">La contrase帽a es obligatoria.</div>
                                </div>
                                <button type="submit" class="btn btn-danger w-100 mb-3 fw-bold">
                                    <i class="fas fa-sign-in-alt me-1"></i> Iniciar Sesi贸n
                                </button>
                            </form>
                        </div>

                        <div class="tab-pane fade" id="pills-register" role="tabpanel"
                            aria-labelledby="pills-register-tab">
                            <form id="registerForm">
                                <div class="mb-3">
                                    <label for="registerName" class="form-label">Nombre Completo</label>
                                    <input type="text" class="form-control" id="registerName" name="registerName"
                                        required>
                                    <div class="invalid-feedback">El nombre completo es obligatorio.</div>
                                </div>
                                <div class="mb-3">
                                    <label for="registerEmail" class="form-label">Correo Electr贸nico</label>
                                    <input type="email" class="form-control" id="registerEmail" name="registerEmail"
                                        required>
                                    <div class="invalid-feedback">El correo es obligatorio y debe ser v谩lido.</div>
                                </div>
                                <div class="mb-3">
                                    <label for="registerPassword" class="form-label">Contrase帽a</label>
                                    <input type="password" class="form-control" id="registerPassword"
                                        name="registerPassword" minlength="8" required>
                                    <div class="form-text">M铆nimo 8 caracteres para mayor seguridad.</div>
                                    <div class="invalid-feedback">La contrase帽a es obligatoria y debe tener al menos 8
                                        caracteres.</div>
                                </div>
                                <button type="submit" class="btn btn-success w-100 mb-3 fw-bold">
                                    <i class="fas fa-user-plus me-1"></i> Registrar Cuenta
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white text-center py-2 mt-5">
        <div class="container">
            <p class="mb-0">漏 2025 Empanadictos. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // 1. GESTIN DE LA MEMORIA LOCAL (USUARIOS Y ESTADO)

        // Cargar usuarios existentes o inicializar lista vac铆a
        let registeredUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];

        // Determinar el siguiente ID consecutivo
        let nextUserId = registeredUsers.length > 0
            ? registeredUsers[registeredUsers.length - 1].id + 1
            : 1;

        const MOCK_USER = {
            isLoggedIn: localStorage.getItem('isLoggedIn') === 'true',
            username: localStorage.getItem('username') || "Cliente"
        };

        const mainContent = document.getElementById('mainContent');
        const loginModalElement = document.getElementById('loginModal');
        const loginModal = new bootstrap.Modal(loginModalElement);
        const navLogin = document.getElementById('navLogin');
        const navLogout = document.getElementById('navLogout');
        const navPideYa = document.getElementById('navPideYa');
        const welcomeMessage = document.getElementById('welcomeMessage');
        const closeModalButton = document.getElementById('closeModalButton');

        // --- Funciones de Estado ---

        function updateUI() {
            if (MOCK_USER.isLoggedIn) {
                // Usuario logueado: Ocultar login, mostrar contenido y botones de acci贸n
                mainContent.classList.remove('d-none');
                navLogin.classList.add('d-none');
                navLogout.classList.remove('d-none');
                navPideYa.classList.remove('d-none');
                welcomeMessage.innerHTML = `<i class="fas fa-cookie-bite me-2"></i> 隆Bienvenido, ${MOCK_USER.username}!`;
                closeModalButton.classList.remove('d-none');
            } else {
                // Usuario no logueado: Mostrar login, ocultar contenido
                mainContent.classList.add('d-none');
                navLogin.classList.remove('d-none');
                navLogout.classList.add('d-none');
                navPideYa.classList.add('d-none');
                welcomeMessage.innerHTML = `隆Nuestras Promociones del Mes!`;
                closeModalButton.classList.add('d-none');
                loginModal.show();
            }
        }

        function simulateLogin(username) {
            MOCK_USER.isLoggedIn = true;
            MOCK_USER.username = username;
            localStorage.setItem('isLoggedIn', 'true');
            localStorage.setItem('username', username);
            loginModal.hide();
            // No usamos alert aqu铆 ya que la UI se actualizar谩 autom谩ticamente
            updateUI();
        }

        window.simulateLogout = function (event) {
            event.preventDefault();
            MOCK_USER.isLoggedIn = false;
            MOCK_USER.username = "Cliente";
            localStorage.removeItem('isLoggedIn');
            localStorage.removeItem('username');
            alert("Has cerrado tu sesi贸n con 茅xito. 隆Vuelve pronto!");
            updateUI();
        }

        // --- Manejo de Formularios ---

        // Funci贸n para Iniciar Sesi贸n (simulada)
        document.getElementById('loginForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const loginInput = document.getElementById('loginName').value;
            // Usamos la primera palabra como nombre
            const username = loginInput.split(' ')[0].split('@')[0];
            simulateLogin(username);
        });

        // Funci贸n para Registrarse (con almacenamiento local y ID secuencial)
        document.getElementById('registerForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const registerName = document.getElementById('registerName').value;
            const registerEmail = document.getElementById('registerEmail').value;
            const registerPassword = document.getElementById('registerPassword').value;

            // 1. Crear el nuevo usuario con ID secuencial
            const newUser = {
                id: nextUserId++, // Asignar ID y luego incrementar
                name: registerName,
                email: registerEmail,
                password: registerPassword // Almacenamiento no seguro, solo para simulaci贸n
            };

            // 2. Guardar en memoria local (localStorage)
            registeredUsers.push(newUser);
            localStorage.setItem('registeredUsers', JSON.stringify(registeredUsers));

            // Para depuraci贸n, puedes ver los usuarios en la consola:
            console.log("Nuevo usuario registrado:", newUser);
            console.log("Lista completa de usuarios:", registeredUsers);

            // 3. Simular inicio de sesi贸n
            alert(`Registro #${newUser.id} exitoso para ${newUser.name.split(' ')[0]}. Iniciando sesi贸n autom谩ticamente.`);
            simulateLogin(newUser.name.split(' ')[0]);
        });

        // --- Inicializaci贸n ---

        window.onload = function () {
            updateUI();
        };

    </script>
</body>

</html>

